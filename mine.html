<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mine Page</title>
    <link rel="stylesheet" href="styles.css"> <!-- Link your CSS file -->
<style>
    
    body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 110vh;
    }
    
    .mine-container {
        max-width: 1000px;
        background: transparent;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1); /* More subtle shadow for depth */
        border-radius: 10px;
        margin-top: 10px; /* More space from top */
        padding: 20px; /* Add padding inside container */
        text-align: center;
    }
    
    .title {
        font-size: 24px; /* Slightly larger title */
        margin-bottom: 25px; /* Increased space below title */
        font-weight: bold;
        color: #333; /* Darker text color */
    }
    
    .registered-number-container {
        display: flex;
        align-items: center;
        justify-content: center; /* Center profile and registered number */
        margin-bottom: 20px;
        gap: 15px; /* Space between profile picture and number */
    }
    
    .registered-number {
        text-align: left; /* Align text to the left */
    }
    
    .registered-number p {
        margin: 0;
        font-size: 14px;
        color: #666; /* Light gray for description text */
    }
    
    .registered-number h2 {
        margin: 0;
        font-size: 16px;
        color: #ff4c4c; /* Red text for the number */
       
    }
    
    
    .profile-picture-container {
        position: relative; /* Positioning for the "+" button */
        width: 60px; /* Fixed width for profile picture */
        height: 60px; /* Fixed height for profile picture */
     
    }
    
    .profile-picture {
        width: 90%; /* Set to 100% of the container */
        height: 90%; /* Set to 100% of the container */
        border-radius: 50%; /* Make the image circular */
        object-fit: cover; /* Keep aspect ratio of the image */
        border: 2px solid #ccc; /* Optional border */
     
    }
    
    .profile-pic-input {
        display: none; /* Hide the file input */
    }
    
    .add-profile-pic {
        position: absolute; /* Position the "+" button */
        top: 50%; /* Center vertically */
        left: 50%; /* Center horizontally */
        transform: translate(-50%, -50%); /* Adjust for centering */
        width: 30px; /* Set size for the button */
        height: 30px; /* Set size for the button */
        background-color: hotpink; /* Background color */
        color: rgb(0, 0, 0); /* Text color */
        border-radius: 50%; /* Round shape */
        text-align: center; /* Center text */
        line-height: 30px; /* Center text vertically */
        cursor: pointer; /* Pointer cursor for the button */
        font-size: 20px; /* Font size for the button */
        transition: background-color 0.3s; /* Smooth transition */
        opacity: 0; /* Hide by default */
        pointer-events: none; /* Prevent interaction */
    }
    
    .profile-picture-container:hover .add-profile-pic {
        opacity: 1; /* Show on hover */
        pointer-events: auto; /* Allow interaction */
    }
    
    .profile-picture:not([src='profile-pic-placeholder.png']) + .add-profile-pic {
        display: none; /* Hide the button if there is a profile picture */
    }
    .account-balance h3 {
        font-size: 22px;
        color: #4CAF50; /* Green color for balance */
        margin-top: -10px;
    }
    
    .button-group {
        display: flex;
        justify-content: space-around; /* Spread buttons evenly */
        margin: 10px 0;
    }
    
    .button {
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: #ffffff;
        color: #333;
        padding: 10px;
        text-decoration: none;
        border-radius: 10px;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1); /* Button shadow */
        width: 80px; /* Fixed width for uniform buttons */
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }
    
    .button:hover {
        background-color: #f4f4f4;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Add shadow on hover */
    }
    
    .button-icon {
        width: 30px; /* Smaller icon size */
        height: 30px;
        margin-bottom: 8px;
    }
    
    .button-label {
        font-size: 12px;
        color: #333;
        text-align: center;
    }
    
    .invite-section {
        border: 1px solid #e0e0e0;
        padding: 15px;
        margin: 20px 0;
        background-color: #f9f9f9;
        border-radius: 8px;
    }
    
    .record-buttons {
        margin: 80px 0; /* Space above and below button group */
    }
    
    .row {
        display: flex;
        justify-content: space-between; /* Spread buttons evenly */
        margin-bottom: 10px; /* Space between rows */
    }
    
    .download-row {
        margin-top: 10px; /* Space above the download row */
    }
    
    .button {
        display: flex;
        flex-direction: column;
        align-items: center;
        background-color: #ffffff;
        color: #333;
        padding: 15px; /* Padding for buttons */
        text-decoration: none;
        border-radius: 10px;
        box-shadow: 0 3px 8px rgba(0, 0, 0, 0.1); /* Button shadow */
        flex: 1; /* Allow buttons to grow equally */
        margin: 0 5px; /* Space between buttons */
        transition: background-color 0.3s ease, box-shadow 0.3s ease;
    }
    
    .button.full-width {
        width: 89%; /* Full width for Download Now button */
    }
    
    .button:hover {
        background-color: #f4f4f4;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); /* Add shadow on hover */
    }
    
    .button-icon {
        width: 30px; /* Smaller icon size */
        height: 30px;
        margin-bottom: 5px; /* Space between icon and text */
    }
    
    .button-label {
        font-size: 12px; /* Small text size */
        text-align: center;
        color: #333;
    }
    
    .logout-row {
        font-size: 18px;
        margin-top: 20px; /* Space above the logout button */
        text-align: center; /* Center the logout button */
    }
    
    .logout-button {
       
        color: rgb(0, 0, 0);
 
        text-decoration: none; /* Remove underline */
    
        display: inline-block; /* Keep the button block-style */
    }
    
    .logout-button:hover {
       color: #ff0000; /* Darker red on hover */
    }
    
    
    
    
        
    .footer {
        background-color: hotpink;
        padding: 10px 0;
        position: fixed;
        bottom: 0;
        width: 100%;
        border-radius: 15px;
    }
    
    .footer-icons {
        display: flex;
        justify-content: space-around;
    }
    
    .footer-icon {
        width: 40px; /* Adjust size as needed */
        height: 40px; /* Adjust size as needed */
    }
                /* Chatbot Button */
                .chatbot-button {
                    position: fixed;
                    bottom: 90px;
                    right: 20px;
                    background-color: rgb(249, 174, 212);
                    color: white;
                    padding: 15px 20px;
                    border: none;
                    border-radius: 50px;
                    cursor: pointer;
                    font-size: 16px;
                }





                
                .chatbot-button:hover {
                    background-color: hotpink;
                }
                
                /* Chatbox */
                .chatbox {
                    display: none; /* Hidden by default */
                    position: fixed;
                    bottom: 80px;
                    right: 20px;
                    width: 350px;
                    background-color: #fff;
                    border-radius: 10px;
                    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
                    z-index: 1000;
                }
                
                .chatbox-header {
                    background-color: hotpink;
                    color: white;
                    padding: 15px;
                    border-radius: 10px 10px 0 0;
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                }
                
                .chatbox-body {
                    padding: 15px;
                    height: 300px;
                    overflow-y: auto;
                }
                
                .chatbox-input {
                    display: flex;
                    padding: 15px;
                    background-color: #f1f1f1;
                }
                
                .chatbox-input input {
                    flex: 1;
                    padding: 10px;
                    border-radius: 8px;
                    border: 1px solid #ccc;
                }
                
                .chatbox-input button {
                    background-color:hotpink;
                    color: white;
                    border: none;
                    padding: 10px 15px;
                    border-radius: 5px;
                    margin-left: 10px;
                    cursor: pointer;
                }
                
                .faq-button {
                    display: block;
                    background-color: #f1f1f1;
                    color: #333;
                    border: none;
                    padding: 10px;
                    margin: 5px 0;
                    cursor: pointer;
                    width: 100%;
                    text-align: left;
                    font-size: 14px;
                }
                
                .faq-button:hover {
                    background-color: #ddd;
                }
                
                .chatbox-message {
                    padding: 10px;
                    margin: 10px 0;
                    border-radius: 8px;
                    width: fit-content;
                }
                
                .bot-message {
                    background-color: #eee;
                    color: #333;
                }
                
                .user-message {
                    background-color: hotpink;
                    color: white;
                    align-self: flex-end;
                }
                
                .close-chatbox {
                    background: none;
                    border: none;
                    color: white;
                    font-size: 20px;
                    cursor: pointer;
                }
                
                .close-chatbox:hover {
                    color: #f1f1f1;
                }
                .recharge-instructions {
                    margin: 20px; /* Spacing around the container */
                    font-family: Arial, sans-serif; /* Clean, readable font */
                    color: #333; /* Dark text color */
                    font-size: 14px; /* Smaller text size */
                }
                
                .recharge-instructions h3 {
                    text-align: center; /* Center the heading */
                    margin-bottom: 10px; /* Space below the heading */
                    font-size: 16px; /* Slightly larger font size for the heading */
                }
                
                .recharge-instructions ol {
                    padding-left: 20px; /* Indent the ordered list */
                }
                
                .recharge-instructions li {
                    margin-bottom: 10px; /* Space between each step */
                    line-height: 1.0; /* Increased line height for better readability */
                }
                
                        
                    </style>
             
                    <div class="chatbot"></div>
                        <button class="chatbot-button" id="openChatbot">Chat with us!</button>
                        
                    
                        <div class="chatbox" id="chatbox">
                            <div class="chatbox-header">
                                <span>FAQs Chatbot</span>
                                <button class="close-chatbox" id="closeChatbot">&times;</button>
                            </div>
                    
                            <div class="chatbox-body" id="chatboxBody">
                                <div class="chatbox-message bot-message">
                                    Hello! How can I help you today? Choose an option below or type your question.
                                </div>
                            </div>
                    
                            <div class="chatbox-faqs">
                                <button class="faq-button" onclick="sendFaq('What is the minimum investment amount?')">What is the minimum investment amount?</button>
                                <button class="faq-button" onclick="sendFaq('How can I withdraw my funds?')">How can I withdraw my funds?</button>
                                <button class="faq-button" onclick="sendFaq('What are the available investment plans?')">What are the available investment plans?</button>
                                <button class="faq-button" onclick="sendFaq('How long does it take to process withdrawals?')">How long does it take to process withdrawals?</button>
                            </div>
                    
                            <div class="chatbox-input">
                                <input type="text" id="userInput" placeholder="Type your message..." />
                                <button id="sendMessageButton">Send</button>
                            </div>
                        </div>
                    </div>
                    
                    <script>
                        // Open and close chatbot
                        document.getElementById("openChatbot").addEventListener("click", function() {
                            document.getElementById("chatbox").style.display = "block";
                        });
                    
                        document.getElementById("closeChatbot").addEventListener("click", function() {
                            document.getElementById("chatbox").style.display = "none";
                        });
                    
                        // Function to handle FAQs selection
                        function sendFaq(faq) {
                            addMessage(faq, 'user-message'); // Add user's message
                            setTimeout(function() {
                                autoReply(faq); // Automatically reply after a delay
                            }, 1000);
                        }
                    
                        // Function to handle user input
                        document.getElementById("sendMessageButton").addEventListener("click", function() {
                            const userInput = document.getElementById("userInput").value;
                            if (userInput) {
                                addMessage(userInput, 'user-message'); // Add user's message
                                document.getElementById("userInput").value = ''; // Clear input field
                                setTimeout(function() {
                                    autoReply(userInput); // Automatically reply after a delay
                                }, 1000);
                            }
                        });
                    
                        function addMessage(text, className) {
                            const message = document.createElement("div");
                            message.className = "chatbox-message " + className;
                            message.innerHTML = text; // Use innerHTML to render HTML content
                            document.getElementById("chatboxBody").appendChild(message);
                            document.getElementById("chatboxBody").scrollTop = document.getElementById("chatboxBody").scrollHeight;
                        }
                        
                    
                        // Auto-reply based on user input (Investment Platform)
                        function autoReply(userInput) {
                            let reply = '';
                    
                
                
                            switch (userInput.trim().toLowerCase()) {  // Using trim() to remove extra spaces
                                case 'what is the minimum investment?':
                                case 'minimum investment?':
                                case 'what is the minimum investment amount?':
                                case 'what’s the minimum investment?':  // Another phrasing variation
                                reply = `
                                <div class="recharge-instructions">
                                    <h3>How to Recharge Your Account Step by Step:</h3>
                                    <ol>
                                        <li><strong>Select an amount to recharge</strong> or enter a custom amount (minimum ₱300).</li>
                                        <li><strong>Choose your preferred payment method</strong> (GCash or PayPal).</li>
                                        <li><strong>For GCash users:</strong>
                                            <ul>
                                                <li>Scan the QR code above or click the provided link to open your GCash app.</li>
                                            </ul>
                                        </li>
                                        <li><strong>Enter the payment details</strong> and confirm the payment.</li>
                                        <li><strong>Once payment is confirmed,</strong> click "Complete Recharge" to finalize your transaction.</li>
                                        <li><strong>Once the payment is successful,</strong> your recharge amount will be displayed in your balance.</li>
                                    </ol>
                                </div>
                            `;
                            break;
                                case 'how can i withdraw my funds?':
                                    reply = 'You can withdraw your funds through the "Withdraw" section of your account.';
                                    break;
                                case 'what are the available investment plans?':
                                    reply = 'We offer various investment plans, including short-term and long-term options.';
                                    break;
                                case 'how long does it take to process withdrawals?':
                                    reply = 'Withdrawals are typically processed within 24-48 hours.';
                                    break;
                                default:
                                    reply = 'Sorry, I didn’t understand that. Please try again or choose one of the available FAQs.';
                            }
                            
                            addMessage(reply, 'bot-message');
                            
                        }
                    </script>
   
    
    

   
<div class="mine-container">
    <h1 class="title">My Account</h1>

    <div class="registered-number-container">
        <div class="profile-picture-container">
            <img src="profile-pic-placeholder.png" alt="Profile Picture" class="profile-picture"> 
            <input type="file" id="profilePicInput" accept="image/*" class="profile-pic-input" onchange="previewProfilePicture(event)" style="display:none;"> <!-- Hidden file input -->
            <label for="profilePicInput" class="add-profile-pic">+</label> 
        </div>
        


        
<div class="registered-number">
    <p>Registered No.</p>
    <h2 id="registeredNumber">[Registered Number]</h2> 
        </div>
    </div>


    <div class="account-balance">
        <h3>₱00.00</h3>
        <p>Account Balance</p>
    </div>

 



        <div class="button-group">
            <a href="recharge.html" class="button">
                <img src="recharge-icon.png" alt="Recharge Icon" class="button-icon">
                <span class="button-label">Recharge</span>
            </a>
            <a href="withdraw.html" class="button">
                <img src="withdraw-icon.png" alt="Withdraw Icon" class="button-icon">
                <span class="button-label">Withdraw</span>
            </a>
            <a href="treasure.html" class="button">
                <img src="treasure-icon.png" alt="Treasure Icon" class="button-icon">
                <span class="button-label">Treasure</span>
                </a>
            </div>
        <div class="record-buttons">
            <div class="row">
                <a href="my-orders.html" class="button">
                    <img src="my-orders-icon.png" alt="My Orders Icon" class="button-icon">
                    <span class="button-label">My Orders</span>
                </a>
                <a href="bank-account.html" class="button">
                    <img src="bank-account-icon.png" alt="Bank Account Icon" class="button-icon">
                    <span class="button-label">Bank Account</span>
                </a>
                <a href="login-password.html" class="button">
                    <img src="login-password-icon.png" alt="Login Password Icon" class="button-icon">
                    <span class="button-label">Login Password</span>
                </a>
            </div>
            <div class="row">
                <a href="recharge-records.html" class="button">
                    <img src="recharge-records-icon.png" alt="Recharge Records Icon" class="button-icon">
                    <span class="button-label">Recharge Records</span>
                </a>
                <a href="withdrawal-records.html" class="button">
                    <img src="withdrawal-records-icon.png" alt="Withdrawal Records Icon" class="button-icon">
                    <span class="button-label">Withdrawal Records</span>
                </a>
                <a href="funding-records.html" class="button">
                    <img src="funding-records-icon.png" alt="Funding Records Icon" class="button-icon">
                    <span class="button-label">Funding Records</span>
                </a>
            </div>
            <div class="download-row">
                <a href="app-download.html" class="button full-width">
                    <img src="app-download-icon.png" alt="App Download Icon" class="button-icon">
                </a>
            </div>
          <!-- New logout button -->
<div class="logout-row">
    <a href="#" id="logoutLink" class="logout-button">Logout</a>
</div>



 <script>
            // Logout functionality
            document.getElementById('logoutLink').addEventListener('click', function(e) {
                e.preventDefault();  // Prevent default link behavior
                // Optionally: Confirm logout
                if (confirm("Are you sure you want to log out?")) {
                    localStorage.removeItem('loggedInUser'); // Clear user session
                    alert("You have successfully logged out.");
                    window.location.href = 'login.html'; // Redirect to login page
                }
            });      
            // Check if user is logged in
            window.onload = function() {
                const loggedInUser = localStorage.getItem('loggedInUser');
                if (!loggedInUser) {
                    // If no user is logged in, redirect to login page
                    window.location.href = 'login.html';
                }
            };
        </script>
     

 

        

        <script>
            // Check if user is logged in and has a registered number
            const loggedInUser = localStorage.getItem('loggedInUser');
            const registeredUsers = JSON.parse(localStorage.getItem('registeredUsers')) || [];
        
            // Check if there are no registered users or if the logged-in user is not found
            if (!loggedInUser || registeredUsers.length === 0 || !registeredUsers.find(user => user.phone === loggedInUser)) {
                // If no valid user is logged in or no users are registered, redirect to login page
                alert("Oops! It looks like you need to register before accessing your account. Please create an account first.");
                window.location.href = 'login.html';
            } else {
                // Optionally display the phone number if valid
                document.getElementById('displayPhoneNumber').innerText = loggedInUser; // Assuming you have an element to show the phone number
            }
        </script>



        <script>
            window.onload = function() {
                // Load registered number
                displayRegisteredNumber();
            
                // Load profile picture
                loadProfilePicture();
            };
            
            // Function to display the registered number
            function displayRegisteredNumber() {
                const registeredNumber = localStorage.getItem('registeredNumber');
            
                if (registeredNumber) {
                    // Display the registered number in the element with ID 'registeredNumber'
                    document.getElementById('registeredNumber').textContent = registeredNumber;
                } else {
                    // If no registered number is found, display a placeholder or a message
                    document.getElementById('registeredNumber').textContent = 'No number registered';
                }
            }
            
            // Function to preview the selected profile picture and save it to local storage
            function previewProfilePicture(event) {
                const file = event.target.files[0];
                if (file) {
                    const reader = new FileReader();
                    reader.onload = function(e) {
                        const profilePic = document.querySelector('.profile-picture');
                        profilePic.src = e.target.result; // Set the image source to the selected file
                        localStorage.setItem('profilePicture', e.target.result); // Save to local storage
                    };
                    reader.readAsDataURL(file); // Read the file as a data URL
                }
            }
            
            // Function to load the profile picture from local storage
            function loadProfilePicture() {
                const storedPic = localStorage.getItem('profilePicture');
                const profilePic = document.querySelector('.profile-picture');
                if (storedPic) {
                    profilePic.src = storedPic; // Update the image source with the stored URL
                }
            }
            
        </script>
        

    
    </div>
</div>
</div>

<footer class="footer">
<div class="footer-icons">
    <a href="dashboard.html">
        <img src="home-icon.png" alt="Home" class="footer-icon">
    </a>
    <a href="invest.html">
        <img src="invest-icon.png" alt="Invest" class="footer-icon">
 
    </a>
    <a href="teams.html">
        <img src="team-icon.png" alt="Teams" class="footer-icon">

    </a>
    <a href="mine.html" id="logoutLink">
        <img src="mine-icon.png" alt="Mine" class="footer-icon">
     
    </a>
</div>
</footer>
</div>


</body>
</html>
